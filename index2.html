<!DOCTYPE html>
<html>
<head>
	<title>TriviaGame</title>
	<link rel="stylesheet" type="text/css" href="assets/css/reset.css">
	<link rel="stylesheet"  type="text/css" href="assets/css/style.css">
	<!-- bootstrap link -->
	<link rel="stylesheet" 
		href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
	<!-- bootswatch link -->
	<link rel="stylesheet" type="text/css" href="https://bootswatch.com/4/flatly/bootstrap.min.css">

</head>
<body>
	<div class="container">

				<div class="jumbotron">
					<h1>Green Bay Packers Trivia</h1>
				</div> <!-- jumbotron close-->

		<div class="row">
			<div class="col-md-12">
				<div class="panel panel-default">
  					<div class="panel-body">
 						<div class="quizArea">
							<div class="question"></div>
							<hr>
							<div class="answers"></div>
							<hr>
							<div id="result"></div>
 						</div>
  					</div> <!-- panel body -->
				</div> <!-- panel -->
			</div> <!-- columns -->
		</div> <!-- row close -->
	</div> <!-- container close -->

<!-- link to jQuery -->

<script
  src="https://code.jquery.com/jquery-3.2.1.js"
  integrity="sha256-DZAnKJ/6XZ9si04Hgrsxu/8s717jcIzLy3oi35EouyE="
  crossorigin="anonymous"></script>

<!-- javascript - when complete transfer this code to the app.js file and link -->
<script type="text/javascript">

// pseudo code: 
//-----global variables-------
// create an array/object that contains all the trivia questions and answers and a img/giph associated with random answers and a correct answer
// create var for randomQuestion
// create var for choices (displays 3 wrong and 1 correct answer)
// create var for userPick
// create var for timer
// create var for correctAnswer
// create var for correctCounter
// create var for wrongCounter
// create var for unansweredCounter
// create var for totalCount

//-------functions------------
// assign a random question to the var randomQuestion from object containing all questions
// display randomQuestion on DOM
// display choices related to randomQuestion on DOM
// if button clicked (user clicks)
	// onClick (), {stops timer, assign value of buttonID clicked to userPick
	// evaluate -> compare userPick === correctAnswer -> 
		// if === correctAnswer then: winner
		// if /= correctAnswer then: loser --> display correct answer
	// pause for few seconds then next question}
// else if time runs out 
	//else if (timer == 0) {display "out of time", display correct answer, increase counter, pause few seconds then move to next question}
// Game over when totalCount = X (certain # questions)
// When game over, stop timer, display # correct, # incorrect, display startover button
// when startOver pushed, resets game, resets timer, new question/choices

// -----------------
// * (The scenario is similar for wrong answers and time-outs.
//   * If the player runs out of time, tell the player that time's up and display the correct answer. Wait a few seconds, then show the next question.
//   * If the player chooses the wrong answer, tell the player they selected the wrong option and then display the correct answer. Wait a few seconds, then show the next question.)
///////////////////////////////////////////////////////////////////////////////////

//----------------------------Global Variables---------------------------------//

// create array of objects with question/answer combos
var questions = [
  {
    text: "Which Packer player was nicknamed the 'Minister of Defense'?",
    answers: [
      "Clay Matthews",
      "Reggie White",
      "Gilbert Brown",
      "Charles Woodson"
    ],
    correctAnswer: 1,
  },
  {
    text: " In what round of the 1956 draft was QB Bart Starr selected?",
    answers: [
      "First round",
      "17th round",
      "Third round",
      "Ninth round"
    ],
    correctAnswer: 1,
  },
  {
    text: "Which Packer player holds the record for all-time leading scorer in franchise history?",
    answers: [
      "Don Hutson",
      "Brett Favre",
      "Aaron Rodgers",
      "Mason Crosby"
    ],
    correctAnswer: 3,
  },
  {
    text: "What was the final score of Super Bowl I?",
    answers: [
      "10-23 Kansas City",
      "33-14 Green Bay",
      "35-10 Green Bay",
      "23-10 Green Bay"
    ],
    correctAnswer: 2,
  },
  {
    text: "In 2011, Aaron Rodgers broke the record for highest single-season passer rating. What rating did he finish with that year?",
    answers: [
      "122.5",
      "131.7",
      "101.4",
      "99.8"
    ],
    correctAnswer: 0,
  },
  {
    text: "What year did the Packers join the American Professional Football Association?",
    answers: [
      "1921",
      "1930",
      "1955",
      "1937"
    ],
    correctAnswer: 0,
  },
  {
    text: "To whom did Brett Favre complete his first career pass?",
    answers: [
      "Michael Haynes",
      "Brett Favre",
      "Antonio Freeman",
      "Andre Rison"
    ],
    correctAnswer: 1, // starts at 0 valid => 0 - 3
  }
];

// console.log(questions);

var randomQuestion;
var htmlOutput = [];
var answerOpt = [];
var userPick;
var timer;
var correctAnswer;
var correctCounter = 0;
var wrongCounter = 0;
var unansweredCounter = 0;
var totalCount = 0;
var indexOfCurrentQuestion = 0;
var result = "";


//----------------------functions-------------------------//

// function to display content in DOM 
function printQuestionToHTML(question) {
	// displays selected question in DOM in correct div
  $('.question').html(question.text);

  //reset contents of answers
  $('.answers').html('');
  $("#result").html('');
  // from the selected object containing current question/answer combo which being aliased as "question" in the function parameter, grab the optional anwers and the correct answer and store in new variables 
  var answers = question.answers;
  var correctAnswer = question.correctAnswer;

  // function for each of the optional answers in the object...
  answers.forEach(function(anAnswer, index){
  	// create a button called newButton
  	var newButton = $('<button>');
  	console.log(newButton);
  	// add text from the answer element value to the button
  	newButton.text(anAnswer);
  	// on click of any of these buttons
  	newButton.on('click', function(event){
  		// if the user choice is correct
  		if(index === correctAnswer) {
  			// log winner
  			console.log('winner');
	        console.log("4 second delay before nextQuestion");
  			// display success message to user in DOM
  			var resultNote = $("#result").html("Winner! Congrats!");
  			// display image/giph

  			// function to delay 3 seconds and move to next question
  			delayButtonAlert = setTimeout(function() {
  				// calls function nextQuestion()
  				nextQuestion();
  				// 3000 milliseconds --> 3 second timer
	        }, 3000);
	    // otherwise if user choice is incorrect
  		} else {
  			// log loser
  			console.log("loser");
	        console.log("4 second delay before nextQuestion");
  			// display result message to user in DOM
  			var resultNote = $("#result").html("<p>Sorry... Wrong answer</p>");
  			// display correctAnswer

  			// display image/giph

  			// function to delay 3 seconds and move to next question
  			delayButtonAlert = setTimeout(function() {
  				// calls function nextQuestion()
  				nextQuestion();
  				// 3000 milliseconds --> 3 second timer
	        }, 3000);
  		}
  	});
  	// display each button in the DOM in the answers element
  	$('.answers').append(newButton);
  })
  
}

// function to select object of question/answer combo assoicated with index chosen in the nextQuestion function
function domQuiz(){
  // // var to store the currently selected question/answer combo object
   var currentQuestion = questions[indexOfCurrentQuestion];
   // calls function with the currently selected question/answer combo as parameter
   printQuestionToHTML(currentQuestion);
  // for each question...
	// questions.forEach(myFunction);
	// display randomQuestion on DOM
	// display choices related to randomQuestion on DOM

	// instead of starting with array of objects could simplify and start with var question=, var answer=, and build

      // add the question and its answers to the htmlOutput
      // htmlOutput.push(
      //   $(".quizArea").
      //   <div class="answers"> ${answerOpt.join('')} </div>`
      // );


  // // combine htmlOutput list into one string of HTML and display in DOM
  // document.getElementById("quizArea").innerHTML = htmlOutput.join('');
}

function nextQuestion() {
	// randomly chooses and index from the array containing question/answer combo
	indexOfCurrentQuestion = Math.floor(Math.random() * questions.length)
	domQuiz()
}
domQuiz();



</script>

</body>
</html>